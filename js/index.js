function debounce(t){function n(){i=!1,t()}var i=!1;return function(){i||(i=!0,requestAnimationFrame(n))}}Node.prototype.on=window.on=function(t,n,i){this.addEventListener(t,n,i)},Node.prototype.off=window.off=function(t,n,i){this.removeEventListener(t,n,i)},NodeList.prototype.on=NodeList.prototype.addEventListener=function(t,n,i){for(var e=0;e<this.length;++e)this[e].addEventListener(t,n,i)},NodeList.prototype.off=NodeList.prototype.removeEventListener=function(t,n,i){for(var e=0;e<this.length;++e)this[e].removeEventListener(t,n,i)};var DEBUG=!0;!function(t){var n,i=["webkit","moz"],e=0;for(n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n){var i=Date.now(),o=Math.max(0,16-(i-e)),s=t.setTimeout(function(){n(i+o)},o);return e=i+o,s}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(n){t.clearTimeout(n)})}(window);var isAndroidStockBrowser=function(){var t=window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);return t&&t[1]<537}(),PREFIXED_ANIMATIONEND=isAndroidStockBrowser?"webkitAnimationEnd":function(){var t,n=document.createElement("div").style,i={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd"};if("animation"in n)return"animationend";for(t in i)if(t in n)return i[t]}();!function(t){"use strict";if("document"in window.self){var n="classList"in t.createElement("_"),i=n&&"classList"in t.createElementNS("http://www.w3.org/2000/svg","g");n&&i||function(t){if("Element"in t){var i=Array.prototype.indexOf,e=function(t,n){if(""===n)throw new Error("Empty token!");if(/\s/.test(n))throw new Error("Invalid character in token!");return i.call(t,n)},o=function(t){var n,i,e,o=(t.getAttribute("class")||"").trim();if(o)for(e=0,i=(n=o.split(/\s+/)).length;e<i;++e)this.push(n[e]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},s=o.prototype=[];s.toString=function(){return this.join(" ")},s.item=function(t){return this[t]||null},s.contains=function(t){return-1!==e(this,t+"")},s.add=function(){var t,n=arguments,i=n.length,o=0,s=!1;do{t=n[o]+"",-1===e(this,t)&&(this.push(t),s=!0)}while(++o<i);s&&this._updateClassName()},s.remove=function(){var t,n,i=arguments,o=i.length,s=0,r=!1;do{for(t=i[s]+"";-1!==(n=e(this,t));)this.splice(n,1),r=!0}while(++s<o);r&&this._updateClassName()},s.toggle=function(t,n){var i=this.contains(t),e=i?!0!==n&&"remove":!1!==n&&"add";return e&&this[e](t),!0===n||!1===n?n:!i},s.replace=function(t,n){var i=e(t+"");-1!==i&&(this.splice(i,1,n),this._updateClassName())};var r;r=n?t.SVGElement.prototype:t.Element.prototype,Object.defineProperty(r,"classList",{get:function(){return new o(this)},enumerable:!0,configurable:!0})}}(window.self),function(t){var n=t.createElement("_");if(n.classList.add("c1","c2"),!n.classList.contains("c2")){var i=function(t){var n=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(){for(var t=0,i=arguments.length;t<i;++t)n.call(this,arguments[t])}};i("add"),i("remove")}if(n.classList.toggle("c3",!1),n.classList.contains("c3")){var e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,n){return void 0!==n&&this.contains(t)===!!n?n:e.call(this,t)}}"replace"in n.classList||(DOMTokenList.prototype.replace=function(t,n){var i=this.toString().split(" "),e=i.indexOf(t+"");-1!==e&&(i=i.slice(e),this.remove.apply(this,i),this.add(n),this.add.apply(this,i.slice(1)))})}(t)}}(document),function(t,n){"use strict";function i(t){return t.trim().split(/\s+/)}function e(t){return t.classList.contains(this)}"classList"in t.createElement("_")&&(n.fn.hasClass=function(t){return Array.prototype.some.call(this,e,t.trim())},n.fn.addClass=function(t){return t?this.each(function(n){"className"in this&&this.classList.add.apply(this.classList,i(t))}):this},n.fn.removeClass=function(t){return this.each(function(n){"className"in this&&(void 0!==t?this.classList.remove.apply(this.classList,i(t)):this.className="")})},n.fn.toggleClass=function(t,n){return t?this.each(function(e){var o=this;i(t).forEach(function(t){o.classList.toggle(t,n)})}):this})}(document,Zepto),function(t,n,i,e){"use strict";i(function(){function e(t,n,i,e){return i=i||a,e=e||c,t/n<i/e?t/i:n/e}function o(){return e(t.innerWidth,t.innerHeight)}function s(){return u*o()}function r(t){var i=t?t+"px":"";n.documentElement.style.fontSize=n.body.style.fontSize=i}var a=360,c=640,u=16;!function(){var n=i("<div>").css("width","").css("height","");n.css("width","10vw").css("width")&&n.css("height","10vh").css("height")||(r(),t.on("resize",debounce(function(){r(s())})))}()}),e(isAndroidStockBrowser?function(){i(".base-tile, .t").css("outline","1px solid transparent")}:function(){i(".bgleak-fix").removeClass("bgleak-fix")}),i(function(){function t(t){t.removeClass("loop"),e(function(){e(function(){t.addClass("loop")})})}i(".last-anim").on(PREFIXED_ANIMATIONEND,function(n){t(i(this).closest(".loop"))})})}(window,document,Zepto,requestAnimationFrame);